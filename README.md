final exam spring boot repository

This application is a simple spring project that implements aspects of both spring MVC and its extension Spring Boot. It's overall functionality is to create a web application that uses h2 as a database source and stores data related to dogs (implemented with spring data jpa) and cats (implemented with spring data jdbc). The program also uses Swagger to offer the ability to test REST endpoints via swagger-ui.html and see if the controller mappings work. To protect the web app, the program uses spring security to restrict access to webpages depending on user roles/authorities and also uses a BCryptPasswordEncoder to encode user passwords, and https certifications

General Info: The program uses spring boot, which auto-configures the application so there was no need to manually configure the entityManagerFactoryBean, SessionFactoryBean, etc.

Web Design: The application provides 8* webpages that the user can access: /home, /anonymous, /public, /admin, /cats, /dogs, /login, /403 The user also has access to the /h2_console and /swagger-ui.html but these were created by the related extensions and not created manually The other web pages were created using html pages located in the resources folder. The /home page uses bootstrap functions that allows the user to link to any of the other pages besides login, displays the user credentials in a footer and has an option to logout The /anonymous page is available to only anonymous users (those who have not logged in) and just displays that you are on the anonymous page. The /public page is available to everyone, logged in or not and just dispalys that you are on the public page The /admin page is available to only those users who have the Role ADMIN and just displays that it is the admin page, and has an option to logout The /cats page is available to only those users who have the Role catMaster and displays that it is the cats page the /dogs page is available to only those users who have the Role dogMaster and displays that it is the dogs page the /login page contains fields that allows the user to login and is the page that the user is redirected to when they either go to /login or try to access a restricted page when they are not signed in. The /403 page is a simple error html that displays Access Denied and the user is shown this page when they try to access a page they don't have the required roles/authorities for

Security: The application uses spring security as the main source of securing the program.
A set of users with predefined roles and authorites were created using inMemory storage, the passwords of said users were encoded using a BCryptPasswordEncoder A redirection from HTTP to HTTPS was coded to be performed automatically so the program redirects calls to HTTPS/localhost:8889 and a SSL certificate was generated using the java keytool In order to restrict access to certain url's, a webSecurityConfigurer was configured, using .antMatchers to specify the url that needed access to be changed. So for instance to restrict access to the webpage /admin, the command .antMatchers("/admin").hasRole("ADMIN") was used, which basically makes it so that only users with the role ADMIN have access to the url endpoint /admin. The other webpages, and the h2_console, along with REST endpoints also had access restricted to certain users

Cats JDBC: the cats table in the h2 database was created using JDBC template. a simple cat java class was created that described the basic components of the cat table/data object, along with using Lombok to generate getters/setters etc. A rowMapper was also created to map data to match the cat data object class when using the jdbc template DAO objects were created, the first being a jpaRepositoryDAO which acts as kind of a jpa repository but implements less functions A catDAO which had some simple methods and extends the jpaRepositoryDAO. A catDAOImpl which implements the methods from the jpaRepositoryDAO and CatDAO using jdbc template and hibernate sql statements two sql files, a schema and a data were put into the program resource folder to create the cats table in the h2 database and insert 3 different cats into the database

Dogs JPA: the dogs table was created using spring data jpa A dogs entity was created with the annotations Entity and Table(name="dogs) to specify to hibernate to persist this entity as a database table named dogs. It contained general attributes and one constructor, along with using Lombok to generate the rest of the getters/setters/constructors etc. A dogs repository was created, extending jpaRepository to allow access to the h2 database and retrieve data objects A .init file component was created to initialize the dogs table with some premade dogs.

REST controllers: two controllers were created for cats and dogs to follow the RESTFul api structure. the dogs controller takes in http requests from the url ending in rest/v1/dogs along with an extra url endpoint depending on the service needed. The /all uses the autowired dogs repository to get all of the dogs in the database the regular endpoint returns a page of the dogs repository, depending on the input parameters including page number and size the /{id} endpoint takes in the id as a path variable and returns the dog with the specified id if any. the /byType/{type} takes in the type of dog as a path variable and returns any dogs in the repository/database with the specified type the /echoMessage endpoint echoes a message with the given input string. The cats controller uses the same http requests as the dogs controller for the most part, except that it autowires the catDAO as the repsoitory rather than a jpa repository as was seen with the dogs controller. Also for the cats controller, a simple Delete mapping was added to delete a cat by its ID in the database.

MVC controllers: Since spring mvc was used to create web templates, a MVC controller was created that maps http requests to the specified html page For instance: /home would map to the home.html page